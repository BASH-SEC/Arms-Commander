#!/usr/bin/env python
# coding=UTF-8
def yellow(string):
    string = colored('%s','yellow',attrs=['bold']) % string
    print string
    return string

def red(string):
    string = colored('%s','red',attrs=['bold']) % string
    print string
    return string
def green(string):
    string = colored('%s','green',attrs=['bold']) % string
    print string
    return string
def cyan(string):
    string = colored('%s','cyan',attrs=['bold']) % string
    print string
    return string

# # SSH tunneling syntax to make another connection with a popped shell
# root@Cylon-Raider:~# ssh 104.16.10.243 -R 21:127.0.0.1:443
# 	rdesktop 127.0.0.1:3390
#
# 	ssh <remote IP> -p 53 <remote port>:<localhost 127.0.0.1>:<localport>
# 	rdesktop 127.0.0.1:<remote port>

def start_ssh():
    remote_ip = str(raw_input("REMOTE IP from where you are receiving a connection: "))
    remote_port = str(raw_input("REMOTE PORT from where the connection is coming from: "))
    local_host = str(raw_input("LOCAL HOST, your PC thats receiving the connection: "))
    local_port = str(raw_input("LOCAL PORT, of your PC that is open and ready to receive the connection: "))
    cmd_string = "ssh %s -R %s:%s:%s" % (remote_ip, remote_port, local_host, local_port)
    red(cmd_string)
    os.system(cmd_string)
    main()
    return

def main():
    start_ssh()
    return
main()
